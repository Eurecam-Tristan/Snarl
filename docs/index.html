<!DOCTYPE html>
<html>
<head>
    <title>Snarl Web Notifications</title>
    <link rel="stylesheet" type="text/css" href="static/normalize.css">
    <link rel="stylesheet" type="text/css" href="static/snarl.min.css">
    <link rel="stylesheet" type="text/css" href="static/style.css">
</head>
<body>
    <h1>Snarl Notifications</h1>
    <input id="username" placeholder="Username">
    <textarea id="message" placeholder="Message"></textarea>
    <button id="send-message">Send Message</button>

    <button id="snarl-demo">Open Notification</button>
    <script src="static/jquery-1.10.2.min.js"></script>
    <script src="static/snarl.js"></script>
    <script>
        $(document).ready(function () {
            $('#snarl-demo').click(function() {
                var id = Snarl.addNotification({
                    title: 'Snarl ' + Snarl.count,
                    text: 'Hello World',
                    timeout: 3000
                });
                Snarl.setText(id, 'Oi, you there!');
            });

            var messageNotification = null;
            $('#username').focusout(function() {
                if (messageNotification === null) {
                    messageNotification = Snarl.addNotification({
                        title: $(this).value,
                        text: 'Registered on the chatroom',
                        timeout: 3000,
                        action: null
                    });
                } else {
                    //TODO
                }
            });
        });
    </script>
</body>
</html>
